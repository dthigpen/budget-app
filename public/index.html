<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>My Budget</title>

    <meta
      name="description"
      content="A simple application to track monthly expenses"
    />

    <link rel="stylesheet" href="css/vender/pico.min.css" />
    <link rel="stylesheet" href="css/index.css" />
  </head>
  <body>
    <script src="./js/vender/chart.umd.js"></script>
    <main class="container">
      <nav>
        <ul>
          <strong>Budget App</strong>
        </ul>
        <ul>
          <li><a href="#">Monthly Reports</a></li>
          <li><a href="#">Budget Editor</a></li>
          <li><a href="#">Settings</a></li>
        </ul>
      </nav>
      <x-app-context>
        <div class="month-sections box">
          <div class="top-bar">
            <details class="month-picker">
              <summary>Average</summary>
              <div class="content">
                <input
                  class="search gone"
                  type="search"
                  name="search"
                  placeholder="Search"
                  aria-label="Search"
                />
                <div class="results">
                  <button class="outline">Average</button>
                </div>
              </div>
            </details>
          </div>
          <article class="breakdown-card">
            <div class="breakdown-sections-container">
              <div class="categories-section">
                <h4 class="center">Categories</h4>
                <div class="filters">
                  <select
                    name="category-type-select"
                    aria-label="Select category type"
                    class="small"
                  >
                    <option selected value="expense">Expenses</option>
                    <option value="income">Income</option>
                  </select>
                  <select
                    name="goal-filter-select"
                    aria-label="Select goal filter"
                    class="small"
                  >
                    <option selected value="all">All</option>
                    <option value="ontrack">On track</option>
                    <option value="overbudget">Overbudget</option>
                  </select>
                </div>
                <div class="top-categories-list">
                  <div class="top-categories-item">
                    <div class="spread">
                      <div class="category">Rent</div>
                      <div>
                        <span class="spent">1267.95</span> /
                        <span class="goal">1267.95</span>
                      </div>
                    </div>
                    <progress class="over" value="1268" max="1268" />
                  </div>
                </div>
              </div>
              <div class="totals-section">
                <h4 class="chart-title center">Overall</h4>
                <div class="chart-section">
                  <canvas id="categories-chart"></canvas>
                </div>
                <!-- <h4 class="center">Overall</h4> -->
                <div class="overall-section-totals-list">
                  <!-- TODO use css grid here -->
                  <div class="overall-section-totals-item box">
                    <div>Income</div>
                    <div data-field="income">$0.00</div>
                  </div>
                  <div class="overall-section-totals-item box">
                    <div>Expenses</div>
                    <div data-field="expenses">(0%) $0.00</div>
                  </div>
                  <div class="overall-section-totals-item box">
                    <div>Savings</div>
                    <div data-field="savings">(0%) $0.00</div>
                  </div>
                  <div class="overall-section-totals-item box">
                    <div>Uncategorized</div>
                    <div data-field="uncategorized">(0%) $0.00</div>
                  </div>
                </div>
              </div>
            </div>
          </article>
          <article class="transactions-section box">
            <header>
              <div class="transactions-section-bar">
                <h3 class="box">Transactions</h3>
                <div>
                  <button
                    data-target="transaction-modal"
                    onclick="toggleModal(event)"
                    id="new-transaction-btn"
                  >
                    New
                  </button>
                  <div>
                    <input id="file-upload-input" type="file" hidden />
                    <button id="file-upload-btn">Upload</button>
                  </div>
                </div>
              </div>
            </header>
            <div class="overflow-auto">
              <table id="transactions-table">
                <thead>
                  <tr>
                    <th scope="col">Date</th>
                    <th scope="col">Description</th>
                    <th scope="col">Amount</th>
                    <th scope="col">Account</th>
                    <th scope="col">Category</th>
                    <th scope="col">Status</th>
                  </tr>
                </thead>
                <tbody></tbody>
              </table>
            </div>
          </article>
        </div>
      </x-app-context>
      <dialog id="transaction-modal">
        <article>
          <header>
            <button
              aria-label="Close"
              rel="prev"
              data-target="transaction-modal"
              onclick="toggleModal(event)"
            ></button>
            <h3>New Transaction</h3>
          </header>
          <div class="form-container">
            <form>
              <fieldset>
                <label>
                  Description
                  <input name="description" placeholder="Description" />
                </label>
                <div class="form-row">
                  <label>
                    Amount
                    <input
                      type="number"
                      step="any"
                      name="amount"
                      placeholder="0.0"
                    />
                  </label>
                </div>
                <div class="form-row">
                  <label>
                    Date
                    <input type="date" name="date" placeholder="Date" />
                  </label>
                  <button>Today</button>
                </div>
                <label>
                  Account
                  <input
                    type="text"
                    name="account"
                    placeholder="Account"
                    list="accounts-list"
                  />
                  <datalist id="accounts-list">
                    <option value="Some Credit Card"></option>
                    <option value="Some Checking Account"></option>
                  </datalist>
                </label>
                <label>
                  Category
                  <input
                    type="text"
                    name="amount"
                    placeholder="Uncategorized"
                    disabled
                  />
                </label>
              </fieldset>
            </form>
          </div>
          <footer>
            <button
              id="transaction-modal-cancel-btn"
              role="button"
              class="secondary"
              data-target="transaction-modal"
              onclick="toggleModal(event)"
            >
              Cancel</button
            ><button
              id="transaction-modal-create-btn"
              autofocus
              data-target="transaction-modal"
              onclick="toggleModal(event)"
            >
              Create
            </button>
          </footer>
        </article>
      </dialog>
      <script src="./js/modal.js"></script>
      <script type="module" src="./js/index.js"></script>
    </main>
  </body>
</html>
